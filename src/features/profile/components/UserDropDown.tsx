import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";

import { useChooseLeaderMutation } from "../api/profileAPI";

const UserDropDown = ({
  id,
  token,
  handleDeleteUser,
}: {
  id: string;
  token: string;
  handleDeleteUser: (id: string) => void;
}) => {
  const [chooseLeader] = useChooseLeaderMutation();

  return (
    <DropdownMenu>
      <DropdownMenuTrigger>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="currentColor"
          className="size-6"
        >
          <path
            fillRule="evenodd"
            d="M4.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm6 0a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm6 0a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"
            clipRule="evenodd"
          />
        </svg>
      </DropdownMenuTrigger>
      <DropdownMenuContent className="flex cursor-pointer flex-col items-end">
        <DropdownMenuItem className="w-full cursor-pointer place-content-end gap-2 hover:bg-Grey-second">
          عرض الملف الشخصي
          <svg
            width="18"
            height="18"
            viewBox="0 0 18 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M8.5 0.5C4.35775 0.5 1 3.85775 1 8C1 12.1422 4.35775 15.5 8.5 15.5C12.6422 15.5 16 12.1422 16 8C16 3.85775 12.6422 0.5 8.5 0.5Z"
              stroke="#001354"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M2.7041 12.7595C2.7041 12.7595 4.37585 10.625 8.50085 10.625C12.6259 10.625 14.2984 12.7595 14.2984 12.7595M8.50085 8C9.09759 8 9.66989 7.76295 10.0918 7.34099C10.5138 6.91903 10.7509 6.34674 10.7509 5.75C10.7509 5.15326 10.5138 4.58097 10.0918 4.15901C9.66989 3.73705 9.09759 3.5 8.50085 3.5C7.90411 3.5 7.33182 3.73705 6.90986 4.15901C6.4879 4.58097 6.25085 5.15326 6.25085 5.75C6.25085 6.34674 6.4879 6.91903 6.90986 7.34099C7.33182 7.76295 7.90411 8 8.50085 8Z"
              stroke="#001354"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </DropdownMenuItem>
        <DropdownMenuItem
          onClick={() => {
            chooseLeader({
              id: id,
              token: token,
            });
          }}
          className="w-full cursor-pointer place-content-end gap-2 hover:bg-Grey-second"
        >
          تعيين كتيم ليدر
          <svg
            width="18"
            height="18"
            viewBox="0 0 18 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_2680_3081)">
              <path
                d="M10.2656 8.81445C10.4883 8.90234 10.7051 8.99902 10.916 9.10449C11.127 9.20996 11.332 9.33008 11.5312 9.46484C11.4023 9.60547 11.2852 9.75195 11.1797 9.9043C11.0742 10.0566 10.9775 10.2207 10.8896 10.3965C10.4385 10.1035 9.95801 9.88086 9.44824 9.72852C8.93848 9.57617 8.41406 9.5 7.875 9.5C7.35938 9.5 6.86133 9.56738 6.38086 9.70215C5.90039 9.83691 5.45215 10.0244 5.03613 10.2646C4.62012 10.5049 4.24219 10.7979 3.90234 11.1436C3.5625 11.4893 3.26953 11.8701 3.02344 12.2861C2.77734 12.7021 2.58691 13.1504 2.45215 13.6309C2.31738 14.1113 2.25 14.6094 2.25 15.125H1.125C1.125 14.4219 1.22754 13.7451 1.43262 13.0947C1.6377 12.4443 1.93359 11.8438 2.32031 11.293C2.70703 10.7422 3.16406 10.2529 3.69141 9.8252C4.21875 9.39746 4.81641 9.06055 5.48438 8.81445C4.82227 8.38086 4.30664 7.83594 3.9375 7.17969C3.56836 6.52344 3.38086 5.79688 3.375 5C3.375 4.37891 3.49219 3.7959 3.72656 3.25098C3.96094 2.70605 4.28027 2.22852 4.68457 1.81836C5.08887 1.4082 5.56641 1.08594 6.11719 0.851562C6.66797 0.617188 7.25391 0.5 7.875 0.5C8.49609 0.5 9.0791 0.617188 9.62402 0.851562C10.1689 1.08594 10.6465 1.40527 11.0566 1.80957C11.4668 2.21387 11.7891 2.69141 12.0234 3.24219C12.2578 3.79297 12.375 4.37891 12.375 5C12.375 5.38672 12.3281 5.76465 12.2344 6.13379C12.1406 6.50293 12 6.85156 11.8125 7.17969C11.625 7.50781 11.4053 7.80957 11.1533 8.08496C10.9014 8.36035 10.6055 8.60352 10.2656 8.81445ZM4.5 5C4.5 5.46875 4.58789 5.90527 4.76367 6.30957C4.93945 6.71387 5.17969 7.07129 5.48438 7.38184C5.78906 7.69238 6.14648 7.93555 6.55664 8.11133C6.9668 8.28711 7.40625 8.375 7.875 8.375C8.33789 8.375 8.77441 8.28711 9.18457 8.11133C9.59473 7.93555 9.95215 7.69531 10.2568 7.39062C10.5615 7.08594 10.8047 6.72852 10.9863 6.31836C11.168 5.9082 11.2559 5.46875 11.25 5C11.25 4.53711 11.1621 4.10059 10.9863 3.69043C10.8105 3.28027 10.5703 2.92285 10.2656 2.61816C9.96094 2.31348 9.60059 2.07031 9.18457 1.88867C8.76855 1.70703 8.33203 1.61914 7.875 1.625C7.40625 1.625 6.96973 1.71289 6.56543 1.88867C6.16113 2.06445 5.80371 2.30469 5.49316 2.60938C5.18262 2.91406 4.93945 3.27441 4.76367 3.69043C4.58789 4.10645 4.5 4.54297 4.5 5ZM17.4375 12.3125C17.4375 12.6172 17.3906 12.9131 17.2969 13.2002C17.2031 13.4873 17.0625 13.7539 16.875 14V18.5L14.625 17.375L12.375 18.5V14C12.1934 13.7539 12.0557 13.4873 11.9619 13.2002C11.8682 12.9131 11.8184 12.6172 11.8125 12.3125C11.8125 11.9258 11.8857 11.5625 12.0322 11.2227C12.1787 10.8828 12.3779 10.5869 12.6299 10.335C12.8818 10.083 13.1807 9.88086 13.5264 9.72852C13.8721 9.57617 14.2383 9.5 14.625 9.5C15.0117 9.5 15.375 9.57324 15.7148 9.71973C16.0547 9.86621 16.3506 10.0684 16.6025 10.3262C16.8545 10.584 17.0566 10.8828 17.209 11.2227C17.3613 11.5625 17.4375 11.9258 17.4375 12.3125ZM14.625 10.625C14.3906 10.625 14.1709 10.6689 13.9658 10.7568C13.7607 10.8447 13.582 10.9648 13.4297 11.1172C13.2773 11.2695 13.1572 11.4482 13.0693 11.6533C12.9814 11.8584 12.9375 12.0781 12.9375 12.3125C12.9375 12.5469 12.9814 12.7666 13.0693 12.9717C13.1572 13.1768 13.2773 13.3555 13.4297 13.5078C13.582 13.6602 13.7607 13.7803 13.9658 13.8682C14.1709 13.9561 14.3906 14 14.625 14C14.8594 14 15.0791 13.9561 15.2842 13.8682C15.4893 13.7803 15.668 13.6602 15.8203 13.5078C15.9727 13.3555 16.0928 13.1768 16.1807 12.9717C16.2686 12.7666 16.3125 12.5469 16.3125 12.3125C16.3125 12.0781 16.2686 11.8584 16.1807 11.6533C16.0928 11.4482 15.9727 11.2695 15.8203 11.1172C15.668 10.9648 15.4893 10.8447 15.2842 10.7568C15.0791 10.6689 14.8594 10.625 14.625 10.625ZM15.75 16.6807V14.8877C15.3984 15.0459 15.0234 15.125 14.625 15.125C14.2266 15.125 13.8516 15.0459 13.5 14.8877V16.6807C13.6875 16.5869 13.875 16.4961 14.0625 16.4082C14.25 16.3203 14.4375 16.2236 14.625 16.1182C14.8125 16.2178 15 16.3115 15.1875 16.3994C15.375 16.4873 15.5625 16.5811 15.75 16.6807Z"
                fill="#001354"
              />
            </g>
            <defs>
              <clipPath id="clip0_2680_3081">
                <rect
                  width="18"
                  height="18"
                  fill="white"
                  transform="translate(0 0.5)"
                />
              </clipPath>
            </defs>
          </svg>
        </DropdownMenuItem>
        <DropdownMenuItem
          onClick={() => {
            handleDeleteUser(id);
          }}
          className="w-full cursor-pointer place-content-end gap-2 hover:bg-Grey-second"
        >
          حذف
          <svg
            width="18"
            height="18"
            viewBox="0 0 11 15"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M10.3889 2.66732C10.551 2.66732 10.7064 2.7317 10.821 2.84631C10.9356 2.96091 11 3.11635 11 3.27843C11 3.44051 10.9356 3.59594 10.821 3.71055C10.7064 3.82516 10.551 3.88954 10.3889 3.88954H9.77778L9.77594 3.93293L9.20578 11.9208C9.18383 12.2291 9.04585 12.5177 8.81963 12.7284C8.5934 12.9391 8.29575 13.0562 7.98661 13.0562H3.01278C2.70364 13.0562 2.40599 12.9391 2.17976 12.7284C1.95354 12.5177 1.81556 12.2291 1.79361 11.9208L1.22344 3.93354L1.22222 3.88954H0.611111C0.449034 3.88954 0.293596 3.82516 0.17899 3.71055C0.0643847 3.59594 0 3.44051 0 3.27843C0 3.11635 0.0643847 2.96091 0.17899 2.84631C0.293596 2.7317 0.449034 2.66732 0.611111 2.66732H10.3889ZM8.55372 3.88954H2.44628L3.01339 11.834H7.98661L8.55372 3.88954ZM6.72222 0.833984C6.8843 0.833984 7.03974 0.898369 7.15434 1.01297C7.26895 1.12758 7.33333 1.28302 7.33333 1.4451C7.33333 1.60717 7.26895 1.76261 7.15434 1.87722C7.03974 1.99182 6.8843 2.05621 6.72222 2.05621H4.27778C4.1157 2.05621 3.96026 1.99182 3.84566 1.87722C3.73105 1.76261 3.66667 1.60717 3.66667 1.4451C3.66667 1.28302 3.73105 1.12758 3.84566 1.01297C3.96026 0.898369 4.1157 0.833984 4.27778 0.833984H6.72222Z"
              fill="#001354"
            />
          </svg>
        </DropdownMenuItem>
      </DropdownMenuContent>
    </DropdownMenu>
  );
};

export default UserDropDown;
